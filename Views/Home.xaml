<Window
    x:Class="SIASGraduate.Views.Home"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:converter="clr-namespace:SIASGraduate.Converter"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:hc="https://handyorg.github.io/handycontrol"
    xmlns:i="http://schemas.microsoft.com/xaml/behaviors"
    xmlns:lvc="clr-namespace:LiveCharts.Wpf;assembly=LiveCharts.Wpf"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:prism="http://prismlibrary.com/"
    xmlns:vm="clr-namespace:SIASGraduate.ViewModels"
    x:Name="MainWindow"
    Title="Home"
    Width="800"
    Height="500"
    d:DesignHeight="1300"
    prism:ViewModelLocator.AutoWireViewModel="True"
    AllowsTransparency="True"
    Icon="/Views/ä¸»é¡µ.png"
    ResizeMode="CanResize"
    WindowStartupLocation="CenterScreen"
    WindowStyle="None"
    mc:Ignorable="d">

    <Window.Resources>
        <!--  æ•°å­¦è®¡ç®—è½¬æ¢å™¨ï¼Œç”¨äºŽç»‘å®šè¡¨è¾¾å¼ä¸­çš„æ•°å­¦è¿ç®—  -->
        <converter:MathConverter x:Key="MathConverter" />
    </Window.Resources>

    <!--  åŠ è½½æ—¶è§¦å‘  -->
    <i:Interaction.Triggers>
        <i:EventTrigger EventName="Loaded">
            <i:InvokeCommandAction Command="{Binding LoadedCommand}" />
        </i:EventTrigger>
        <i:EventTrigger EventName="MouseLeftButtonDown">
            <i:InvokeCommandAction Command="{Binding WindowDragCommand}" />
        </i:EventTrigger>
        <i:EventTrigger EventName="PreviewMouseWheel">
            <i:InvokeCommandAction Command="{Binding MouseWheelCommand}" PassEventArgsToCommand="True" />
        </i:EventTrigger>
    </i:Interaction.Triggers>
    <Grid x:Name="MainGrid" hc:Growl.GrowlParent="True">
        <!--  Gridç½‘æ ¼å¸ƒå±€  -->
        <Grid.RowDefinitions>
            <RowDefinition Height="auto" />
            <RowDefinition Height="*" />
            <RowDefinition Height="auto" />
        </Grid.RowDefinitions>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="Auto" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <!--  é¦–é¡µé¡¶å±‚æ˜¾ç¤ºå†…å®¹  -->
        <WrapPanel Grid.Row="0" Grid.ColumnSpan="3">
            <WrapPanel.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Offset="0.0" Color="#7FFF0000" />
                    <GradientStop Offset="0.545" Color="#7FFFA500" />
                    <GradientStop Offset="0.75" Color="#7F008000" />
                    <GradientStop Offset="1.0" Color="#7F0000FF" />
                </LinearGradientBrush>
            </WrapPanel.Background>
            <!--  é¦–é¡µçº¿æ€§æ¸å˜èƒŒæ™¯  -->
            <!--  é¦–é¡µæ¬¢è¿Žè¯­  -->
            <TextBlock
                VerticalAlignment="Center"
                FontFamily="Comic Sans MS"
                FontSize="25"
                Foreground="#7F0000FF ">
                <TextBlock.Text>
                    <MultiBinding StringFormat="æ¬¢è¿Žä½  {0}, çŽ°åœ¨çš„æ—¶é—´æ˜¯ {1}">
                        <Binding Path="DisplayName" />
                        <Binding Path="CurrentTime" />
                    </MultiBinding>
                </TextBlock.Text>
            </TextBlock>

        </WrapPanel>
        <!--  é€€å‡ºç™»å½•æŒ‰é’®  -->
        <StackPanel
            Grid.Row="0"
            Grid.Column="1"
            HorizontalAlignment="Right"
            Orientation="Horizontal">

            <!--  æœ€å°åŒ–æŒ‰é’®  -->
            <Button
                Margin="0,0,10,0"
                Background="Transparent"
                BorderThickness="0"
                Command="{Binding MinimizeWindowCommand}"
                Content="&#xE921;"
                FontFamily="Segoe MDL2 Assets"
                FontSize="20"
                Foreground="White"
                ToolTip="æœ€å°åŒ–" />

            <!--  æœ€å¤§åŒ–æŒ‰é’®  -->
            <Button
                Margin="0,0,10,0"
                Background="Transparent"
                BorderThickness="0"
                Command="{Binding MaximizeWindowCommand}"
                FontFamily="Segoe MDL2 Assets"
                FontSize="20"
                Foreground="White"
                ToolTip="æœ€å¤§åŒ–">
                <Button.Style>
                    <Style BasedOn="{StaticResource {x:Type Button}}" TargetType="Button">
                        <Setter Property="Content" Value="&#xE922;" />
                        <Style.Triggers>
                            <DataTrigger Binding="{Binding ElementName=MainWindow, Path=WindowState}" Value="Maximized">
                                <Setter Property="Content" Value="&#xE923;" />
                                <Setter Property="ToolTip" Value="è¿˜åŽŸ" />
                            </DataTrigger>
                        </Style.Triggers>
                    </Style>
                </Button.Style>
            </Button>

            <!--  é€€å‡ºç™»å½•æŒ‰é’®  -->
            <Button
                Background="Transparent"
                BorderThickness="0"
                Command="{Binding ReStartCommand}"
                Content="é€€å‡ºç™»å½•"
                FontFamily="ä»¿å®‹"
                FontSize="25"
                Foreground="Yellow"
                Style="{DynamicResource ButtonCustom}" />
        </StackPanel>
        <!--  å·¦ä¾§èœå•æ   -->
        <ScrollViewer
            Grid.Row="1"
            Grid.Column="0"
            Width="auto"
            VerticalScrollBarVisibility="Hidden">
            <StackPanel>
                <!--  èƒŒæ™¯é¢œè‰²  -->
                <StackPanel.Background>
                    <LinearGradientBrush StartPoint="0.5,0" EndPoint="0.5,1">
                        <GradientStop Color="#7FFF0000" />
                        <GradientStop Offset="0.494" Color="#7FFFA500" />
                        <GradientStop Offset="0.764" Color="#7F008000" />
                        <GradientStop Offset="0.978" Color="#7F0000FF" />
                    </LinearGradientBrush>
                </StackPanel.Background>
                <Button
                    HorizontalAlignment="Center"
                    Command="{Binding BackHomeCommand}"
                    Content="é¦–é¡µ"
                    FontSize="20"
                    Style="{StaticResource HomeMenuButtonStyle}" />
                <!--  åŠŸèƒ½èœå•  -->
                <Expander
                    HorizontalAlignment="Left"
                    VerticalAlignment="Top"
                    Cursor="Hand"
                    Foreground="Black"
                    Header="åŠŸèƒ½èœå•"
                    Style="{DynamicResource BaseStyle}"
                    Template="{StaticResource ExpanderDownTemplate}">

                    <StackPanel>
                        <Button
                            Margin="10,0,10,5"
                            Command="{Binding PersonalInformationManagementCommand}"
                            Content="ä¸ªäººä¿¡æ¯ç®¡ç†"
                            Style="{DynamicResource HomeMenuButtonStyle}" />
                        <Button
                            Margin="10,0,10,5"
                            Command="{Binding DepartmentManagerCommand}"
                            Content="éƒ¨é—¨ç®¡ç†"
                            IsEnabled="{Binding EmployeeManagerButtonIsEnableCopy}"
                            Style="{DynamicResource HomeMenuButtonStyle}"
                            Visibility="{Binding IsButtonVisibleCopy}" />
                        <Button
                            Margin="10,0,10,5"
                            Command="{Binding AdminManagerCommand}"
                            Content="ç®¡ç†å‘˜ç®¡ç†"
                            IsEnabled="{Binding EmployeeManagerButtonIsEnableCopy}"
                            Style="{DynamicResource HomeMenuButtonStyle}"
                            Visibility="{Binding IsButtonVisibleCopy}" />
                        <Button
                            Margin="10,5"
                            Command="{Binding EmployeeManagerCommand}"
                            Content="å‘˜å·¥ç®¡ç†"
                            IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                            Style="{DynamicResource HomeMenuButtonStyle}"
                            Visibility="{Binding EmployeeManagerButtonVisible}" />
                        <Button
                            Margin="10,5"
                            Command="{Binding AwardSettingCommand}"
                            Content="å¥–é¡¹è®¾ç½®"
                            IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                            Style="{DynamicResource HomeMenuButtonStyle}"
                            Visibility="{Binding AwardSettingButtonVisible}" />
                        <Button
                            Margin="10,5"
                            Command="{Binding AwardNominateCommand}"
                            Content="å¥–é¡¹æå"
                            IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                            Style="{DynamicResource HomeMenuButtonStyle}"
                            Visibility="{Binding AwardNominateButtonVisible}" />
                        <Button
                            Margin="10,5"
                            Command="{Binding NominationDeclarationCommand}"
                            Content="æåç”³æŠ¥"
                            IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                            Style="{StaticResource HomeMenuButtonStyle}"
                            Visibility="{Binding NominationDeclarationButtonVisible}" />
                        <Button
                            Margin="10,5"
                            Command="{Binding VoteEntranceCommand}"
                            Content="æŠ•ç¥¨å…¥å£"
                            Style="{StaticResource HomeMenuButtonStyle}" />
                        <Button
                            Margin="10,5"
                            Command="{Binding VoteResultCommand}"
                            Content="æŠ•ç¥¨ç»“æžœ"
                            Style="{StaticResource HomeMenuButtonStyle}" />

                    </StackPanel>
                </Expander>
                <!--  3Då¥–æ¯åŠ¨ç”»  -->
                <Grid Height="200">
                    <!--<hx:HelixViewport3D
                        x:Name="helixViewport"
                        IsEnabled="False"
                        ShowViewCube="False">
                        <hx:HelixViewport3D.Camera>
                            <PerspectiveCamera
                                LookDirection="0, 0, -1"
                                Position="0, 0, 15"
                                UpDirection="0, 1, 0" />
                        </hx:HelixViewport3D.Camera>
                        <hx:DefaultLights />
                        <ModelVisual3D Content="{Binding Model3D}" />
                    </hx:HelixViewport3D>-->
                    <!--  æ·»åŠ å¾½ç«   -->
                    <StackPanel>
                        <hc:Shield
                            Margin="5"
                            VerticalAlignment="Top"
                            Command="hc:ControlCommands.OpenLink"
                            CommandParameter="https://gitee.com/LiChangHeng5424/SIAS2025"
                            Status="ðŸ”—"
                            Subject="Gitee"
                            Color="#1182c3" />
                        <hc:Shield
                            Margin="5"
                            VerticalAlignment="Top"
                            Command="hc:ControlCommands.OpenLink"
                            CommandParameter="https://github.com/CHangHengLi/SIAS2025"
                            Status="ðŸ”—"
                            Subject="GitHub"
                            Color="#1182c3" />
                    </StackPanel>
                </Grid>
            </StackPanel>
        </ScrollViewer>
        <!--  å³ä¾§åŒ…å«æ»šåŠ¨æ¡è§†å›¾  -->
        <ScrollViewer
            Grid.Row="1"
            Grid.Column="1"
            PanningMode="Both"
            VerticalScrollBarVisibility="Auto">
            <Grid x:Name="ContentGrid">
                <!--  å†…å®¹åŒºåŸŸå¤§å°è°ƒæ•´ç­–ç•¥  -->
                <Grid.LayoutTransform>
                    <ScaleTransform x:Name="ApplicationScaleTransform" CenterX="0" CenterY="0" ScaleX="1" ScaleY="1" />
                </Grid.LayoutTransform>

                <!--  åŒ…å«å¯¼èˆªåœ¨å†…çš„äº”è¡ŒæŽ’åˆ—  -->
                <Grid.RowDefinitions>
                    <RowDefinition x:Name="Row1" Height="{Binding Row1Visible}" />
                    <RowDefinition x:Name="Row2" Height="{Binding Row2Visible}" />
                    <RowDefinition x:Name="Row3" Height="{Binding Row3Visible}" />
                    <RowDefinition x:Name="Row4" Height="{Binding Row4Visible}" />
                    <RowDefinition x:Name="Row5" Height="{Binding Row5Visible}" />
                </Grid.RowDefinitions>

                <!--  ç¬¬ä¸€è¡Œ:å¯¼èˆªé¡µé¢  -->
                <Grid Grid.Row="0">
                    <UserControl x:Name="HomeFrame" prism:RegionManager.RegionName="Row1Region" />
                </Grid>
                <!--  ç¬¬äºŒè¡Œ:å¿«æ·å…¥å£  -->
                <StackPanel Grid.Row="1">
                    <Label Content="å¿«æ·å…¥å£:" Style="{DynamicResource HomeLable}" />
                    <ScrollViewer
                        x:Name="ShortcutScrollViewer"
                        HorizontalScrollBarVisibility="Visible"
                        PreviewMouseWheel="ShortcutScrollViewer_PreviewMouseWheel"
                        Template="{DynamicResource HomeScrollViewerTemplate}"
                        VerticalScrollBarVisibility="Hidden">

                        <WrapPanel Orientation="Horizontal">

                            <Button Command="{Binding PersonalInformationManagementCommand}" Style="{DynamicResource HomeButtonStyle}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/ä¸ªäººä¿¡æ¯ç®¡ç†.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="ä¸ªäººä¿¡æ¯ç®¡ç†" />
                                </StackPanel>
                            </Button>
                            <Button
                                Command="{Binding DepartmentManagerCommand}"
                                IsEnabled="{Binding EmployeeManagerButtonIsEnableCopy}"
                                Style="{DynamicResource HomeButtonStyle}"
                                Visibility="{Binding IsButtonVisibleCopy}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/éƒ¨é—¨ç®¡ç†.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="éƒ¨é—¨ç®¡ç†" />
                                </StackPanel>
                            </Button>
                            <Button
                                Command="{Binding AdminManagerCommand}"
                                IsEnabled="{Binding EmployeeManagerButtonIsEnableCopy}"
                                Style="{DynamicResource HomeButtonStyle}"
                                Visibility="{Binding IsButtonVisibleCopy}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/ç®¡ç†å‘˜ç®¡ç†.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="ç®¡ç†å‘˜ç®¡ç†" />
                                </StackPanel>
                            </Button>
                            <Button
                                Command="{Binding EmployeeManagerCommand}"
                                IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                                Style="{DynamicResource HomeButtonStyle}"
                                Visibility="{Binding EmployeeManagerButtonVisible}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/å‘˜å·¥ç®¡ç†.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="å‘˜å·¥ç®¡ç†" />
                                </StackPanel>
                            </Button>
                            <Button
                                Command="{Binding AwardSettingCommand}"
                                IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                                Style="{DynamicResource HomeButtonStyle}"
                                Visibility="{Binding AwardSettingButtonVisible}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/å¥–é¡¹è®¾è®¡.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="å¥–é¡¹è®¾ç½®" />
                                </StackPanel>
                            </Button>
                            <Button
                                Command="{Binding AwardNominateCommand}"
                                IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                                Style="{DynamicResource HomeButtonStyle}"
                                Visibility="{Binding AwardNominateButtonVisible}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/å¥–é¡¹æå.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="å¥–é¡¹æå" />
                                </StackPanel>
                            </Button>
                            <Button
                                Command="{Binding NominationDeclarationCommand}"
                                IsEnabled="{Binding EmployeeManagerButtonIsEnable}"
                                Style="{DynamicResource HomeButtonStyle}"
                                Visibility="{Binding NominationDeclarationButtonVisible}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/æåç”³æŠ¥.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="æåç”³æŠ¥" />
                                </StackPanel>
                            </Button>
                            <Button Command="{Binding VoteEntranceCommand}" Style="{DynamicResource HomeButtonStyle}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/æŠ•ç¥¨å…¥å£.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="æŠ•ç¥¨å…¥å£" />
                                </StackPanel>
                            </Button>
                            <Button Command="{Binding VoteResultCommand}" Style="{DynamicResource HomeButtonStyle}">
                                <StackPanel VerticalAlignment="Center" Orientation="Horizontal">
                                    <Image Source="/SIASGraduate;component/Images/æŠ•ç¥¨ç»“æžœ.png" Style="{DynamicResource HomeImageStyle}" />
                                    <TextBlock VerticalAlignment="Center" Text="æŠ•ç¥¨ç»“æžœ" />
                                </StackPanel>
                            </Button>
                        </WrapPanel>
                    </ScrollViewer>
                </StackPanel>
                <!--  ç¬¬ä¸‰è¡Œ:å¥–é¡¹æåå æ¯”å’Œå¥–é¡¹å¾—ç¥¨æ€»æ•°å›¾è¡¨  -->
                <Grid Grid.Row="2">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <!--  å„å¥–é¡¹æåå æ¯”é¥¼å›¾  -->
                    <Border
                        Grid.Column="0"
                        Margin="10"
                        Padding="10"
                        BorderBrush="#DDDDDD"
                        BorderThickness="1">
                        <StackPanel>
                            <TextBlock
                                Margin="0,0,0,10"
                                FontSize="16"
                                FontWeight="Bold"
                                Text="å„å¥–é¡¹æåå æ¯”" />
                            <lvc:PieChart
                                Height="{Binding RelativeSource={RelativeSource AncestorType=Border}, Path=ActualWidth, Converter={StaticResource MathConverter}, ConverterParameter=x*0.7}"
                                Margin="10"
                                Hoverable="True"
                                LegendLocation="Right"
                                Series="{Binding SeriesCollection}">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="DataClick">
                                        <i:InvokeCommandAction Command="{Binding PieChartDataClickCommand}" PassEventArgsToCommand="True" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                                <lvc:PieChart.DataTooltip>
                                    <lvc:DefaultTooltip
                                        Background="White"
                                        Foreground="Black"
                                        SelectionMode="OnlySender">
                                        <lvc:DefaultTooltip.ContentTemplate>
                                            <DataTemplate>
                                                <StackPanel>
                                                    <TextBlock>
                                                        <Run Text="{Binding SeriesView.Title}" />
                                                        <Run Text=" " />
                                                        <Run Text="{Binding ChartPoint.Y, StringFormat=0}" />
                                                        <Run Text="ä¸ª (" />
                                                        <Run Text="{Binding ChartPoint.Participation, StringFormat=P1}" />
                                                        <Run Text=")" />
                                                    </TextBlock>
                                                </StackPanel>
                                            </DataTemplate>
                                        </lvc:DefaultTooltip.ContentTemplate>
                                    </lvc:DefaultTooltip>
                                </lvc:PieChart.DataTooltip>
                            </lvc:PieChart>
                        </StackPanel>
                    </Border>

                    <!--  å„å¥–é¡¹å¾—ç¥¨æ€»æ•°æ¡å½¢å›¾  -->
                    <Border
                        Grid.Column="1"
                        Margin="10"
                        Padding="10"
                        BorderBrush="#DDDDDD"
                        BorderThickness="1">
                        <StackPanel>
                            <TextBlock
                                Margin="0,0,0,10"
                                FontSize="16"
                                FontWeight="Bold"
                                Text="å„å¥–é¡¹å¾—ç¥¨æ€»æ•°" />
                            <lvc:CartesianChart
                                Height="{Binding RelativeSource={RelativeSource AncestorType=Border}, Path=ActualWidth, Converter={StaticResource MathConverter}, ConverterParameter=x*0.7}"
                                Margin="10"
                                AxisX="{Binding RankingAxisX}"
                                AxisY="{Binding RankingAxisY}"
                                Series="{Binding RankingSeriesCollection}" />
                        </StackPanel>
                    </Border>
                </Grid>
                <!--  ç¬¬å››è¡Œ:æŠ•ç¥¨æŽ’åå›¾è¡¨  -->
                <StackPanel Grid.Row="3">
                    <Label Content="æŠ•ç¥¨æŽ’å:" Style="{DynamicResource HomeLable}" />
                    <Border
                        Margin="10"
                        Padding="10"
                        BorderBrush="#DDDDDD"
                        BorderThickness="1">
                        <lvc:CartesianChart
                            Height="{Binding RelativeSource={RelativeSource AncestorType=Border}, Path=ActualWidth, Converter={StaticResource MathConverter}, ConverterParameter=x*0.4}"
                            AxisX="{Binding NomineeRankingAxisX}"
                            AxisY="{Binding NomineeRankingAxisY}"
                            Series="{Binding NomineeRankingSeriesCollection}" />
                    </Border>
                </StackPanel>
                <!--  ç¬¬äº”è¡Œ:æŠ•ç¥¨è¯¦æƒ…è¡¨æ ¼  -->
                <Grid Grid.Row="4">
                    <StackPanel>
                        <!--  æ·»åŠ æ ‡é¢˜å’Œç­›é€‰å¥–é¡¹çš„Gridå¸ƒå±€  -->
                        <Grid Margin="0,0,0,10">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="Auto" />
                                <ColumnDefinition Width="250" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>

                            <!--  æ ‡é¢˜  -->
                            <Label
                                Grid.Column="0"
                                Content="æŠ•ç¥¨è¯¦æƒ…:"
                                Style="{DynamicResource HomeLable}" />

                            <!--  ç­›é€‰å¥–é¡¹æ–‡æœ¬  -->
                            <TextBlock
                                Grid.Column="1"
                                Margin="20,0,10,0"
                                VerticalAlignment="Center"
                                FontSize="14"
                                Text="ç­›é€‰å¥–é¡¹:" />

                            <!--  å¥–é¡¹ä¸‹æ‹‰æ¡†  -->
                            <ComboBox
                                Grid.Column="2"
                                Height="30"
                                Margin="0,5"
                                hc:InfoElement.Placeholder="é€‰æ‹©å¥–é¡¹ç­›é€‰..."
                                DisplayMemberPath="AwardName"
                                IsEditable="True"
                                IsTextSearchCaseSensitive="False"
                                IsTextSearchEnabled="True"
                                ItemsSource="{Binding Awards}"
                                SelectedItem="{Binding SelectedAward}"
                                StaysOpenOnEdit="True"
                                TextSearch.TextPath="AwardName">
                                <i:Interaction.Triggers>
                                    <i:EventTrigger EventName="SelectionChanged">
                                        <i:InvokeCommandAction Command="{Binding FilterVoteDetailsCommand}" />
                                    </i:EventTrigger>
                                </i:Interaction.Triggers>
                            </ComboBox>
                        </Grid>

                        <!--  æŠ•ç¥¨è¯¦æƒ…è¡¨æ ¼ - æ·»åŠ æ•°æ®ç»‘å®š  -->
                        <DataGrid
                            MaxHeight="300"
                            AutoGenerateColumns="False"
                            BorderBrush="#DDDDDD"
                            BorderThickness="1"
                            CanUserResizeColumns="False"
                            CanUserSortColumns="True"
                            HeadersVisibility="Column"
                            IsReadOnly="True"
                            ItemsSource="{Binding VoteDetails}"
                            VerticalScrollBarVisibility="Auto">
                            <DataGrid.Columns>
                                <DataGridTextColumn
                                    Width="Auto"
                                    Binding="{Binding NomineeName}"
                                    Header="ææŠ¥å¯¹è±¡" />
                                <DataGridTextColumn
                                    Width="80"
                                    Binding="{Binding AwardId}"
                                    Header="å¥–é¡¹ç¼–å·" />
                                <DataGridTextColumn
                                    Width="80"
                                    Binding="{Binding AwardName}"
                                    Header="ææŠ¥å¥–é¡¹" />
                                <DataGridTextColumn
                                    Width="80"
                                    Binding="{Binding DepartmentName}"
                                    Header="æ‰€å±žéƒ¨é—¨" />
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding Introduction}"
                                    Header="ä¸€å¥è¯ä»‹ç»" />
                                <DataGridTextColumn
                                    Width="*"
                                    Binding="{Binding NominateReason}"
                                    Header="æåç†ç”±" />
                                <DataGridTextColumn
                                    Width="80"
                                    Binding="{Binding VoteCount}"
                                    Header="å¾—ç¥¨æ•°" />
                                <DataGridTemplateColumn Width="80" Header="è¯¦æƒ…">
                                    <DataGridTemplateColumn.CellTemplate>
                                        <DataTemplate>
                                            <Button
                                                Margin="2"
                                                Background="#2196F3"
                                                BorderThickness="0"
                                                Command="{Binding DataContext.ViewNominationDetailsCommand, RelativeSource={RelativeSource AncestorType=DataGrid}}"
                                                CommandParameter="{Binding}"
                                                Content="æŸ¥çœ‹"
                                                Foreground="White" />
                                        </DataTemplate>
                                    </DataGridTemplateColumn.CellTemplate>
                                </DataGridTemplateColumn>
                            </DataGrid.Columns>
                        </DataGrid>
                    </StackPanel>
                </Grid>
            </Grid>
        </ScrollViewer>
    </Grid>
</Window>
